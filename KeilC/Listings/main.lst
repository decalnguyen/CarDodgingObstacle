C51 COMPILER V9.60.7.0   MAIN                                                              05/05/2024 03:08:47 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\KeilC8051\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\ma
                    -in.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include<reg51.h>
   2          
   3          sbit output=P2^7;
   4          sbit motp=P2^0;
   5          sbit motn=P2^1;
   6          
   7          void msdelay(unsigned int time)  // Function for creating delay in milliseconds.
   8          
   9          {
  10   1      
  11   1          unsigned i,j ;
  12   1      
  13   1          for(i=0;i<time;i++)    
  14   1      
  15   1          for(j=0;j<1275;j++);
  16   1      
  17   1      }
  18          
  19          
  20          void servo_delay(int times)     // Creating Delay in multilple of 50us using 8051 Timers
  21          
  22          {
  23   1      
  24   1          int m;
  25   1      
  26   1          for(m=0;m<times;m++)
  27   1      
  28   1          {
  29   2      
  30   2              TH0=0xFF;
  31   2      
  32   2              TL0=0xD2;
  33   2      
  34   2              TR0=1;
  35   2      
  36   2              while(TF0==0);
  37   2      
  38   2              TF0=0;
  39   2      
  40   2              TR0=0;
  41   2      
  42   2          }
  43   1      
  44   1      }
  45          
  46          void main()
  47          
  48          {
  49   1      unsigned int i;
  50   1          int n;
  51   1      
  52   1          TMOD=0x01;                // Selecting Timer 0, Mode 1
  53   1      
  54   1          output=0;
C51 COMPILER V9.60.7.0   MAIN                                                              05/05/2024 03:08:47 PAGE 2   

  55   1        motp=motn=0;
  56   1      
  57   1          while(1)
  58   1      
  59   1          {
  60   2      
  61   2              for(n=13;n<28;n=n+2)
  62   2      
  63   2              {
  64   3      
  65   3                  output=1;
  66   3      
  67   3                  servo_delay(n);     
  68   3      
  69   3                  output=0;
  70   3      
  71   3                  servo_delay(260);
  72   3      
  73   3                  msdelay(200);
  74   3                
  75   3                motp=1;
  76   3      motn=0;
  77   3      for (i=0; i<60000; i++);
  78   3      motp=0;
  79   3      motn=1;
  80   3      for (i=0; i<60000; i++);
  81   3                  
  82   3                  
  83   3              }
  84   2      
  85   2          }
  86   1      
  87   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    196    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
